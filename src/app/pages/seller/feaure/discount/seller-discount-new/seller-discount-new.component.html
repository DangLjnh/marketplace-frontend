<div class="container">
  <p class="mb-5 text-2xl font-medium">Tạo mã giảm giá mới</p>
  <div class="p-5 bg-white rounded">
    <div>
      <p class="mb-5 text-xl">Thông tin cơ bản</p>
      <div class="flex flex-col gap-5">
        <app-form-product-row title="Loại mã">
          <div class="flex items-center text-base gap-x-5">
            <div class="rounded relative shadow-[0_0_17px_0_#e2e2e2] overflow-hidden cursor-pointer">
              <app-icon-check class="absolute z-10 top-1 right-1"></app-icon-check>
              <div class="type-discount is-active"></div>
              <div class="flex items-center p-5 gap-x-3">
                <app-icon-store stroke="#0A68FF" color="#0A68FF" fill="#0A68FF"></app-icon-store>
                <span>Voucher toàn shop</span>
              </div>
            </div>
            <div class="relative p-5 overflow-hidden border rounded cursor-pointer">
              <div class="flex items-center gap-x-3">
                <app-icon-check class="absolute z-10 top-1 right-1"></app-icon-check>
                <div class="type-discount"></div>
                <svg class="w-5 h-5" viewBox="0 0 21 20" xmlns="http://www.w3.org/2000/svg" color="#0A68FF"
                  fill="#0A68FF">
                  <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M13.625 4.375V5h-6.25v-.625a3.125 3.125 0 1 1 6.25 0ZM3.621 5h2.504v-.625a4.375 4.375 0 1 1 8.75 0V5h2.503a1.25 1.25 0 0 1 1.245 1.138l1.128 12.5A1.25 1.25 0 0 1 18.506 20H2.492a1.25 1.25 0 0 1-1.245-1.362l1.129-12.5A1.25 1.25 0 0 1 3.62 5Zm7.911 8.75a.705.705 0 0 1 .063.327.607.607 0 0 1-.26.514 1.11 1.11 0 0 1-.669.185c-.444 0-.766-.09-.963-.268a1.11 1.11 0 0 1-.294-.847H7.688c-.009.441.114.875.351 1.246.263.38.63.676 1.058.853.496.21 1.03.314 1.57.307.818 0 1.462-.178 1.932-.533a1.74 1.74 0 0 0 .704-1.468c0-.779-.385-1.39-1.156-1.834a6.322 6.322 0 0 0-1.212-.508 3.812 3.812 0 0 1-1.032-.459.638.638 0 0 1-.294-.5.619.619 0 0 1 .264-.513c.217-.15.477-.222.74-.205.26-.015.517.07.717.238a.864.864 0 0 1 .27.677h1.712a2.034 2.034 0 0 0-.338-1.156 2.165 2.165 0 0 0-.949-.782 3.295 3.295 0 0 0-1.373-.273 3.801 3.801 0 0 0-1.42.253c-.385.14-.723.384-.978.704a1.68 1.68 0 0 0-.342 1.043c0 .793.461 1.415 1.384 1.867.355.17.72.316 1.095.437.333.094.649.24.935.434.089.07.16.16.206.262Z">
                  </path>
                </svg>
                <span>Voucher sản phẩm</span>
              </div>
            </div>
          </div>
        </app-form-product-row>

        <form [formGroup]="discountForm" (ngSubmit)="submitForm()" class="flex flex-col gap-5">
          <app-form-product-row title="Tên chương trình giảm giá">
            <mat-form-field class="w-full">
              <mat-label>Nhập vào</mat-label>
              <input type="text" matInput>
              <mat-hint>Tên Voucher sẽ không được hiển thị cho Người mua</mat-hint>
            </mat-form-field>
          </app-form-product-row>

          <app-form-product-row title="Thời gian sử dụng mã">
            <div class="flex items-center gap-x-5">
              <mat-form-field>
                <input matInput [ngxMatDatetimePicker]="picker" placeholder="Ngày bắt đầu" formControlName="date_start">
                <mat-datepicker-toggle matSuffix [for]="$any(picker)"></mat-datepicker-toggle>
                <ngx-mat-datetime-picker #picker>
                </ngx-mat-datetime-picker>
                <mat-hint>MM/DD/YYYY, HH:MM:SS</mat-hint>
              </mat-form-field>

              <mat-form-field>
                <input matInput [ngxMatDatetimePicker]="picker1" placeholder="Ngày kết thúc" formControlName="date_end"
                  [min]="minDate">
                <mat-datepicker-toggle matSuffix [for]="$any(picker1)"></mat-datepicker-toggle>
                <ngx-mat-datetime-picker #picker1>
                </ngx-mat-datetime-picker>
                <mat-hint>MM/DD/YYYY, HH:MM:SS</mat-hint>
              </mat-form-field>


              <!-- <mat-form-field class="example-form-field">
                <mat-label>Ngày bắt đầu - Ngày kết thúc</mat-label>
               <mat-date-range-input [formGroup]="campaignOne" [rangePicker]="campaignOnePicker"
                [comparisonStart]="campaignTwo.value.start" [comparisonEnd]="campaignTwo.value.end"> 
              <mat-date-range-input [rangePicker]="campaignOnePicker">
                <input matStartDate type="datetime-local" placeholder="Bắt đầu" formControlName="a">
                <input matEndDate placeholder="Kết thúc" formControlName="b">
              </mat-date-range-input>
              <mat-hint>MM/DD/YYYY – MM/DD/YYYY</mat-hint>
              <mat-datepicker-toggle matIconSuffix [for]="campaignOnePicker"></mat-datepicker-toggle>
              <mat-date-range-picker #campaignOnePicker></mat-date-range-picker>
              </mat-form-field> -->
            </div>
          </app-form-product-row>

          <app-form-product-row title="Nhập phần trăm muốn giảm">
            <mat-form-field class="w-full">
              <mat-label>Nhập vào</mat-label>
              <input type="text" matInput formControlName="percent">
            </mat-form-field>
          </app-form-product-row>

          <app-form-product-row title="Sản phẩm được áp dụng">
            <ng-container *ngIf="listCheckProduct.length===0; else listProductCheck">
              <app-button theme="blue" (click)="openModalCreateProduct()">
                <div class="flex items-center gap-x-3">
                  <app-icon-plus></app-icon-plus>
                  <span>Thêm sản phẩm</span>
                </div>
              </app-button>
            </ng-container>
            <ng-template #listProductCheck>
              <div class="flex flex-col items-start gap-5">
                <app-button className="w-[143.63px]" theme="blue" (click)="openModalEditProduct()">
                  <div class="flex items-center gap-x-3">
                    <app-icon-plus></app-icon-plus>
                    <span>Sửa sản phẩm</span>
                  </div>
                </app-button>
                <div class="flex flex-wrap items-start gap-x-5">
                  <ng-container *ngFor="let product of listCheckProduct">
                    <div class="max-w-[80px] mb-5">
                      <img class="w-[76.8px] h-[103.46px] object-cover rounded-sm"
                        [src]="product.Image_Products[0].Image_Product_Detail.photo_url" alt="">
                      <p [matTooltip]="product.Product_Detail.name" class="line-clamp-2">{{product.Product_Detail.name}}
                      </p>
                    </div>
                  </ng-container>
                  <ng-container *ngFor="let product of listCheckProductOption">
                    <div class="max-w-[80px] mb-5">
                      <img class="w-[76.8px] h-[103.46px] object-cover rounded-sm"
                        [src]="product.Image_Products[0].Image_Product_Detail.photo_url" alt="">
                      <p [matTooltip]="product.Product_Detail.name" class="line-clamp-2">{{product.Product_Detail.name}}
                      </p>
                    </div>
                  </ng-container>
                </div>
              </div>
            </ng-template>
          </app-form-product-row>

          <div class="flex items-center ml-auto gap-x-3">
            <button class="w-[93.16px] py-2 border rounded hover:bg-slate-100 transition-all">Hủy</button>
            <app-button types="submit" className="w-[93.16px]">Lưu</app-button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>